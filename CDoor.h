/*====================================================================================

門クラス　 [CDoor.h]
Autor	: ユ・ビョンチャン
Date	: 2018/10/26
--------------------------------------------------------------------------------------
コメント:
門クラス : 背景

--------------------------------------------------------------------------------------
修正日時:
====================================================================================*/


#ifndef CDOOR_H
#define CDOOR_H
/*--------------------------------------------------------------------------------------
インクルードファイル
--------------------------------------------------------------------------------------*/
#include <Windows.h>
#include <time.h>

#include "CObject.h"
#include "sprite3D.h"
/*--------------------------------------------------------------------------------------
列挙型 : 構造体
--------------------------------------------------------------------------------------*/

/*--------------------------------------------------------------------------------------
マクロ定義
--------------------------------------------------------------------------------------*/

/*--------------------------------------------------------------------------------------
クラス宣言
--------------------------------------------------------------------------------------*/

class CDoor : public Sprite3D
{
public:

	CDoor(k_Texture index, D3DXVECTOR2 pos0, D3DXVECTOR2 pos1);		//テクスチャ、上ドアー位置、下ドアー位置
	~CDoor();

	void Switch(int index);											//ドアーが押されたか判断(中で当り判定やってる)

	void ColorUpdate(void);											//ドアーが押された時の時間で色変えの時間を決めてる

	void Draw();

	bool Fin(void);													//両方押されたらtrueになる

private:
	k_Texture m_TextureIndex;										//テクスチャ
	D3DXVECTOR2 m_pos[2];											//ドアー位置
	D3DCOLOR m_color[2];											//色変えの時の色
	bool m_OnOff[2];												//ドアーが押されたか
	bool m_OK;														//両方押されたか

	clock_t start[2], end[2];										//時間で色変えの長さ測定

};


#endif //CDOOR_H
